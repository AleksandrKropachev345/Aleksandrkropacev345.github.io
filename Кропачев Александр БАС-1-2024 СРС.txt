//Кропачев Александр БАС-1-2024 СРС
#include <locale>
#include <iostream>
#include <cmath> 

using namespace std;

int main() {
    setlocale(LC_ALL, "rus");
    double el, x, s = 0;
    int n,i=1;
    cout << "Введите значение x (|x| <= 1): ";
    cin >> x;
    if (abs(x) > 1) {//проверка введеного числа
        cout << "Ошибка: |x| должно быть меньше или равно 1" << endl;
        return 1; // завершение программы проверки
    }
    cout << "Введите количество членов ряда n: ";
    cin >> n;
    do {
        el = pow(x, i) / i; // вычисляем i-й член
        if (i % 2 == 0) {
            el = -el; // если i четное, меняется знак
        }
        s += el;
        cout << el << "\n" ;
        i++;
    } while (i <= n); //условие цикла
    cout << "Сумма первых " << n << " членов ряда: " << s << endl;// Вывод
    return 0;
}
/*Тест 1
Введите значение x (|x| <= 1): 0.5
Введите количество членов ряда n: 3
0.5
-0.125
0.0416667
Сумма первых 3 членов ряда: 0.416667*/
/*Тест 2
* Введите значение x (|x| <= 1): -0.4
Введите количество членов ряда n: 4
-0.4
-0.08
-0.0213333
-0.0064
Сумма первых 4 членов ряда: -0.507733*/
/*Тест 3
Введите значение x (|x| <= 1): 0.3
Введите количество членов ряда n: 6
0.3
-0.045
0.009
-0.002025
0.000486
-0.0001215
Сумма первых 6 членов ряда: 0.26234*/
